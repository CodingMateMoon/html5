<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>정규표현식</title>
</head>

<body>
    <h1>회원가입 유효성</h1>
    <form action="" method="post" onsubmit="return validate()">
        <label for="userId">아이디</label>
        <input type="text" name="userId" id="userId" />
        <br>
        <label for="password">비밀번호</label>
        <input type="password" name="password" id="password" />
        <br>
        <label for="pwCk">비밀번호 확인</label>
        <input type="password" name="pwCk" id="pwCk" />
        <br>
        <label for="userName">이름</label>
        <input type="text" name="userName" id="userName" />
        <br>
        <label for="email">이메일</label>
        <input type="text" name="email" id="email" />
        <br>
        <label for="tel1">전화번호</label>
        <input type="text" name="tel1" id="tel1" />
        <input type="text" name="tel2" id="tel2" />
        <input type="text" name="tel3" id="tel3" />
        <br>

        <label for="job">직업</label>
        <select name="job" id="job">
            <option value="개발자">개발자</option>
            <option value="자영업자">자영업자</option>
            <option value="백수">백수</option>
        </select>
        <br>
        <label for="userId">성별</label>
        <input type="radio" name="gender" id="gender" />남
        <input type="radio" name="gender" id="gender2" />남
        <br>
        <label for="hobby">취미</label>
        <input type="checkbox" name="hobby" value="read" />독서
        <input type="checkbox" name="hobby" value="drama" />드라마보기
        <input type="checkbox" name="hobby" value="soccer" />축구
        <input type="checkbox" name="hobby" value="movie" />영화
        <input type="checkbox" name="hobby" value="basket" />농구
        <input type="checkbox" name="hobby" value="game" />게임
        <br>
        <br>
        <input type="submit" value="회원가입" />
        <input type="reset" value="취소" />
    </form>
    <script>
        function validate() {
            var userId = document.getElementById("userId");
            var password = document.getElementById("password");
            var email = document.getElementById("email");
            // 아이디 유효성 검사
            // 아이디는 첫글자가 반드시 영소문자, 총 4~12자로 이루어지고 숫자가 반드시 하나이상 포함되어야함 영문자 소문자와 숫자로 이루어져야함
            // reg = /^[a-z][a-z\d]{3,11}$/;
            if (!check(/^[a-z][a-z\d]{3,11}$/, userId, '첫글자가 영소문자이고 4~12자를 입력해야함!!')) {
                return false;
            }
            if (!check(/[0-9]/, userId, '아이디에는 숫자 넣어!')) {
                return false;
            }
            // 이메일검사
            // 4글자 이상이고 @가 나오고 1이상 . 1~3이상
            if (!check(/^[\w]{4,}@[\w]+(\.[\w]+){1,3}$/,email,'이메일 형식에 맞지 않습니다')) {
                return false;
            } 

            function check(reg, ele, msg) {
                if (!reg.test(ele.value)) {
                    alert(msg);
                    ele.select();
                    return false;
                } else {
                    return true;
                }
            }
        }
    </script>
</body>

</html>